- 객체지향 설계의 핵심
  - 협력 : 메시지를 주고받는 객체들 사이의 상호작용
  - 책임 : 객체가 다른 객체와 협력하기 위해 수행하는 행동
  - 역할 : 대체 가능한 책임의 집합
- 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동임
- 훌륭한 설계란 합리적인 비용 안에서 변경을 수용할 수 있는 구조를 만드는 것임.
  - 적절한 비용 안에서 쉽게 변경할 수 있는 설계는 응집도가 높고 서로 느슨하게 결합돼 있는 요소로 구성됨.
- 결합도와 응집도를 합리적인 수준으로 유지할 수 있는 중요 원칙은 "객체의 상태"가 아닌 "객체의 행동"에 초점을 맞추는 것이다.
  - 객체를 단순히 데이터의 집합으로 바라보는 시각은 객체의 내부 구현을 퍼블릭 인터페이스에 노출시킴
  - 이러한 문제를 피할 수 있는 가장 좋은 방법은 객체의 책임에 초점을 맞추는 것임
  - 책임은 초점을 "객체의 상태 → 객체의 행동 → 객체와 객체 사이의 상호작용" 으로 이동시킴

#### 1) 데이터 중심의 영화 예매 시스템

- 객체의 상태는 구현에 속함. 구현은 불안정하기 때문에 변하기 쉬움.
- 상태를 객체 분할의 중심축으로 삼으면 구현에 관한 세부사항이 객체의 인터페이스에 스며들고 이는 캡슐화의 원칙을 무너뜨림.
- 결과적으로 인터페이스의 변경을 초래하여 모든 객체에게 변경의 영향이 퍼지게 됨.
- 객체의 책임은 인터페이스에 속함.
- 안정적인 인터페이스를 뒤로 책임을 수행하는 데 필요한 상태를 캡슐화함으로써 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지함.

#### 2) 설계 트레이드오프

- 캡슐화
  - 상태와 행동을 하나의 객체 안에 모으는 이유는 객체의 내부 구현을 외부로부터 감추기 위해서임.
  - 객체지향이 강력한 이유는 한 곳에서 일어난 변경이 전체 시스템에 영향을 끼치지 않도록 파급효과를 적절하게 조절할 수 있는 장치를 제공하기 때문임.
  - 객체를 사용하면 변경 가능성이 높은 부분은 내부에 숨기고 외부에는 상대적으로 안정적인 부분만 공개해서 변경의 여파를 통제할 수 있음.
  - 캡슐화는 추상화의 한 종류임.
  - 객체지향 설계의 가장 중요한 원리는 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화하는 것임.
  - 변경될 수 있는 어떤 것이라도 캡슐화해야함. 이것이 객체지향 설계의 핵심임.
- 응집도
  - 모듈에 포함된 내부 요소들이 연관되어 있는 정도 → 객체에 얼마나 관련 높은 책임을 할당했는지를 나타냄
  - 높은 응집도 : 모듈 내의 요소들이 하나의 목적을 위해 긴밀하게 협력할 때
  - 낮은 응집도 : 모듈 내의 요소들 서로 다른 목적을 추구
- 결합도
  - 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타냄 → 객체가 협력에 필요한 적절한 수준의 관계만을 유지하고 있는지를 나타냄
  - 높은 결합도 : 다른 모듈의 세부적인 부분까지 알고 있을 때
  - 낮은 결합도 : 어떤 모듈이 다른 모듈에 대해 꼭 필요한 지식만 알고 있을 때
- 좋은 설계란 오늘의 기능을 수행하면서 내일의 변경을 수용할 수 있는 설계임.
- 캡슐화의 정도가 응집도와 결합도에 영향을 미침 ⇨ 캡슐화를 지키면 모듈 안의 응집도는 높아지고 결합도는 낮아짐.
